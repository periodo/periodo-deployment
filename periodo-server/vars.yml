---
# apt packages
system_packages:
  - curl
  - git
  - make
  - python3.5
  - python3.5-venv
  - nginx
  - uwsgi
  - uwsgi-plugin-python3
  - sqlite3
  - npm
  - highlight

# the git repository URL
project_repo: https://github.com/periodo/periodo-server.git

# the root path to install to
install_root: "/srv/{{ server_name }}"

# the root path for www-visible documents
www_root: "/var/www/{{ server_name }}"

# the path to the sqlite db file
db_path: "{{ www_root }}/db.sqlite"

# the path to the nginx cache dir
cache_path: "/var/cache/{{ server_name }}"

# key size to use when generating keys
rsa_key_size: 4096

# e.g. staging_perio_do not staging.perio.do
server_name_no_dots: "{{ server_name|replace('.', '_') }}"

# where to put HTTPS keys and certs
letsencrypt_root: "/etc/letsencrypt"
letsencrypt_keys: "{{ letsencrypt_root }}/keys"
letsencrypt_certs: "{{ letsencrypt_root }}/certs"
letsencrypt_challenges: "{{ letsencrypt_root }}/challenges"
letsencrypt_account_key: "{{ letsencrypt_root }}/account.key"
letsencrypt_account_email: "ryanshaw@unc.edu"
letsencrypt_acme_directory: "https://acme-v01.api.letsencrypt.org/directory"
letsencrypt_agreement: "https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf"
https_key: "{{ letsencrypt_keys }}/{{ server_name }}-key.pem"
https_csr: "{{ letsencrypt_certs }}/{{ server_name }}-csr.pem"
https_cert: "{{ letsencrypt_certs }}/{{ server_name }}-cert.pem"
https_chain: "{{ letsencrypt_certs }}/{{ server_name }}-chain.pem"
https_dhparams: "{{ letsencrypt_certs }}/dhparams.pem"
